<!DOCTYPE html>
<html>
    <head>private</head>
    <body>
        <h1>Authenticated!</h1>
        <p>Welcome</p>
        <button id="logout"><a href="http://127.0.0.1:8000/">Logout</a></button>

        <!-- Testing -->

        <button id="buybook1">Buy Book 1</button>
        <button id="cancelorder">Cancel Order</button>
        

     <script>
         const book1 = document.getElementById("buybook1");
         const del = document.getElementById("cancelorder");

         book1.addEventListener("click", BuyBook1);
         del.addEventListener("click", CancelOrder);

         async function BuyBook1() {
        const res = await fetch('/api/user/private/addentry', {
             method: 'POST',
             body: JSON.stringify({
                       username: "",
                       bookid: 1,
                       bookname: "Abc",
                       isbn: "B123456",
                       price: 700,
                    }),
                    headers: {
                        'Content-Type':'application/json'
                    }
       })
        const data = await res.json();
        console.log(data);
    }
    
     async function CancelOrder(){
        const res = await fetch('/api/user/private/deleteentry', {
             method: 'POST',
             body: JSON.stringify({
                       bookid: 1,
                       bookname: "Abc",
                       isbn: "B123456",
                       price: 700,
                    }),
                    headers: {
                        'Content-Type':'application/json'
                    }
       })
        const data = await res.json();
        console.log(data);
     }
        
     </script>  
    </body>
</html>